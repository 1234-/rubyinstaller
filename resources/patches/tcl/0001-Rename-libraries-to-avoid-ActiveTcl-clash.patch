From 200126c43314cb87221efdc30dc2750c25730a0c Mon Sep 17 00:00:00 2001
From: Bosko Ivanisevic <bosko.ivanisevic@gmail.com>
Date: Mon, 16 May 2011 22:20:03 +0200
Subject: [PATCH] Rename libraries to avoid ActiveTcl clash

---
 tcl8.5.9/win/Makefile.in |   10 +++++-----
 tcl8.5.9/win/configure   |   10 +++++-----
 2 files changed, 10 insertions(+), 10 deletions(-)

diff --git a/tcl8.5.9/win/Makefile.in b/tcl8.5.9/win/Makefile.in
index 79cc9af..d44c311 100644
--- a/tcl8.5.9/win/Makefile.in
+++ b/tcl8.5.9/win/Makefile.in
@@ -130,11 +130,11 @@ REGDOTVER		= @TCL_REG_MAJOR_VERSION@.@TCL_REG_MINOR_VERSION@
 TCL_STUB_LIB_FILE	= @TCL_STUB_LIB_FILE@
 TCL_DLL_FILE		= @TCL_DLL_FILE@
 TCL_LIB_FILE		= @TCL_LIB_FILE@
-DDE_DLL_FILE		= tcldde$(DDEVER)${DLLSUFFIX}
-DDE_LIB_FILE		= tcldde$(DDEVER)${LIBSUFFIX}
-REG_DLL_FILE		= tclreg$(REGVER)${DLLSUFFIX}
-REG_LIB_FILE		= tclreg$(REGVER)${LIBSUFFIX}
-PIPE_DLL_FILE		= tclpip$(VER)${DLLSUFFIX}
+DDE_DLL_FILE		= tcldde$(DDEVER)-ri${DLLSUFFIX}
+DDE_LIB_FILE		= tcldde$(DDEVER)-ri${LIBSUFFIX}
+REG_DLL_FILE		= tclreg$(REGVER)-ri${DLLSUFFIX}
+REG_LIB_FILE		= tclreg$(REGVER)-ri${LIBSUFFIX}
+PIPE_DLL_FILE		= tclpip$(VER)-ri${DLLSUFFIX}
 
 SHARED_LIBRARIES 	= $(TCL_DLL_FILE) $(TCL_STUB_LIB_FILE) \
 			  $(DDE_DLL_FILE) $(REG_DLL_FILE) $(PIPE_DLL_FILE)
diff --git a/tcl8.5.9/win/configure b/tcl8.5.9/win/configure
index f58e61d..c14b589 100644
--- a/tcl8.5.9/win/configure
+++ b/tcl8.5.9/win/configure
@@ -4484,16 +4484,16 @@ TCL_EXPORT_FILE_SUFFIX="\${NODOT_VERSION}${LIBSUFFIX}"
 
 eval "TCL_SRC_DIR=\"`cd $srcdir/..; pwd`\""
 
-eval "TCL_DLL_FILE=tcl${VER}${DLLSUFFIX}"
+eval "TCL_DLL_FILE=tcl${VER}-ri${DLLSUFFIX}"
 
-eval "TCL_LIB_FILE=${LIBPREFIX}tcl$VER${LIBSUFFIX}"
+eval "TCL_LIB_FILE=${LIBPREFIX}tcl$VER-ri${LIBSUFFIX}"
 
-eval "TCL_LIB_FLAG=\"-ltcl${VER}${LIBFLAGSUFFIX}\""
+eval "TCL_LIB_FLAG=\"-ltcl${VER}-ri${LIBFLAGSUFFIX}\""
 eval "TCL_BUILD_LIB_SPEC=\"-L`pwd` ${TCL_LIB_FLAG}\""
 eval "TCL_LIB_SPEC=\"-L${libdir} ${TCL_LIB_FLAG}\""
 
-eval "TCL_STUB_LIB_FILE=\"${LIBPREFIX}tclstub${VER}${LIBSUFFIX}\""
-eval "TCL_STUB_LIB_FLAG=\"-ltclstub${VER}${LIBFLAGSUFFIX}\""
+eval "TCL_STUB_LIB_FILE=\"${LIBPREFIX}tclstub${VER}-ri${LIBSUFFIX}\""
+eval "TCL_STUB_LIB_FLAG=\"-ltclstub${VER}-ri${LIBFLAGSUFFIX}\""
 eval "TCL_BUILD_STUB_LIB_SPEC=\"-L`pwd` ${TCL_STUB_LIB_FLAG}\""
 eval "TCL_STUB_LIB_SPEC=\"-L${libdir} ${TCL_STUB_LIB_FLAG}\""
 eval "TCL_BUILD_STUB_LIB_PATH=\"`pwd`/${TCL_STUB_LIB_FILE}\""
-- 
1.7.4.msysgit.0

